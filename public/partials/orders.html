<div ng-controller="orders">
	<div class='row'>
		<div class="col-sm-12">
			<h3>Add a new order</h3>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-6">
			<p class='error' ng-repeat="error in errors" ng-bind='error.message'></p>
			<form class="form-horizontal" role='form'>
				<div class="form-group">
					<label class="col-sm-4 control-label" for="customer">Customer:</label>
					<div class="col-sm-8">
						<select ng-model="new_order.customer_name" class="form-control" name="customer" id="customer">
							<option value="">Please Select a Customer</option>
							<option ng-bind="customer.name" ng-repeat="customer in customers" value="{{ customer.name }}"></option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label" for="">Order:</label>
					<div class="col-sm-8">
						<input ng-model="new_order.quantity" type="number" class="col-sm-3 form-control" name="quantity" id="quantity">
						<select ng-model="new_order.product" class="col-sm-9 form-control pull-right" class="col-sm-8" name="product" id="product" ng-options="product._id as (product.name +' ('+product.quantity + ' available)') for product in products">
							<option value="">Please Select a Product</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-12">
						<button ng-click="newOrder()" class=' pull-right btn btn-primary' type="submit">Order</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-4 pull-right">
			<input ng-model="searchOrders" id="searchBox" class='form-control' type="text" name="search" placeholder="Search Orders...">
		</div>
	</div>
	<div class="panel panel-default">
		<table class='table table-striped table-bordered'>
			<thead>
				<tr>
					<th>Customer Name</th>
					<th>Product</th>
					<th>Quantity</th>
					<th>Date</th>
				</tr>
			</thead>
			<tbody ng-repeat="order in orders | filter: searchOrders ">
				<tr>
					<td>{{ order.customer_name }}</td>
					<td>{{ order.product }}</td>
					<td>{{ order.quantity }}</td>
					<td>{{ order.order_date | date: 'longDate' }}</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>